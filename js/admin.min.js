!function(o,t,e){t.wp=t.wp||{},t.wp.coreactivity=t.wp.coreactivity||{},t.wp.coreactivity.admin={toggles:{on:"d4p-ui-toggle-on",off:"d4p-ui-toggle-off"},init:function(){o(e).on("click",".coreactivity-toggle-notification",function(t){t.preventDefault();var e=o(this),t=e.data("id"),a=e.data("key"),i=e.data("nonce");o.ajax({type:"POST",dataType:"json",data:{event:t,notification:a},url:ajaxurl+"?action=coreactivity_toggle_notification&_ajax_nonce="+i,success:function(t){wp.coreactivity.admin.helpers.toggle(e,t)}})}),o(e).on("click",".coreactivity-toggle-event",function(t){t.preventDefault();var e=o(this),t=e.data("id"),a=e.data("nonce");o.ajax({type:"POST",dataType:"json",data:{event:t},url:ajaxurl+"?action=coreactivity_toggle_event&_ajax_nonce="+a,success:function(t){wp.coreactivity.admin.helpers.toggle(e,t)}})})},columns:function(){o(e).on("change",".hide-column-tog",function(){var t=o(".wp-list-table thead tr > *:not(.hidden)").length;o(".wp-list-table tbody tr.coreactivity-hidden-row td").attr("colspan",t)}),o(e).on("click","thead th.column-meta, tfoot th.column-meta",function(t){t.preventDefault();var t=o(this).find("i"),e=o("thead th.column-meta i, tfoot th.column-meta i"),a=o(this).closest("table"),i=a.find("tbody tr.coreactivity-hidden-row"),a=a.find("tbody td.column-meta button i");t.hasClass("d4p-ui-chevron-square-up")?(i.addClass("__hidden"),a.removeClass("d4p-ui-chevron-square-up d4p-ui-chevron-square-down").addClass("d4p-ui-chevron-square-down"),e.removeClass("d4p-ui-chevron-square-up").addClass("d4p-ui-chevron-square-down")):(i.removeClass("__hidden"),a.removeClass("d4p-ui-chevron-square-up d4p-ui-chevron-square-down").addClass("d4p-ui-chevron-square-up"),e.removeClass("d4p-ui-chevron-square-down").addClass("d4p-ui-chevron-square-up"))}),o(e).on("click","td.column-meta button",function(t){t.preventDefault();var t=o(this).find("i"),e=o(this).parent().parent().next();t.hasClass("d4p-ui-chevron-square-up")?(e.addClass("__hidden"),t.removeClass("d4p-ui-chevron-square-up").addClass("d4p-ui-chevron-square-down")):(e.removeClass("__hidden"),t.removeClass("d4p-ui-chevron-square-down").addClass("d4p-ui-chevron-square-up"))})},helpers:{toggle:function(t,e){var a;e.hasOwnProperty("toggle")&&""!==e.toggle&&(a=wp.coreactivity.admin.toggles,t.find("i").removeClass(a.on).removeClass(a.off).addClass(a[e.toggle]),t.find("span").html(t.data(e.toggle)))}},live:{init:function(){setTimeout(wp.coreactivity.admin.live.ajax,15e3)},ajax:function(){o(".coreactivity-live-row").addClass("coreactivity-old-live-row").removeClass("coreactivity-standout").removeClass("coreactivity-live-row"),o.ajax({url:ajaxurl+"?action=coreactivity_live_logs",type:"post",dataType:"html",data:{args:JSON.stringify(coreactivity_live)},success:function(t){var e,a;0<t.length&&(e=t.indexOf("."),a=t.substring(0,e),t=t.substring(e+1),coreactivity_live.id=parseInt(a),o(".coreactivity-grid-logs #the-list").prepend(t),o(".coreactivity-live-row").addClass("coreactivity-standout")),setTimeout(wp.coreactivity.admin.live.ajax,15e3)}})}}},o(e).ready(function(){t.wp.coreactivity.admin.init(),0<o(".coreactivity-grid-logs").length&&(wp.coreactivity.admin.columns(),"Y"===coreactivity_data.live_updates)&&wp.coreactivity.admin.live.init()})}(jQuery,window,document);