!function(o,e,t){e.wp=e.wp||{},e.wp.coreactivity=e.wp.coreactivity||{},e.wp.coreactivity.admin={init:function(){o(t).on("click",".coreactivity-event-toggle",function(e){e.preventDefault();var t=o(this),e=t.data("id"),a=t.data("nonce");o.ajax({type:"POST",dataType:"json",data:{event:e},url:ajaxurl+"?action=coreactivity_toggle_event&_ajax_nonce="+a,success:function(e){e.hasOwnProperty("toggle")&&""!==e.toggle&&t.find("i").removeClass("d4p-ui-toggle-on").removeClass("d4p-ui-toggle-off").addClass(e.toggle)}})})},columns:function(){o(t).on("change",".hide-column-tog",function(){var e=o(".wp-list-table thead tr > *:not(.hidden)").length;o(".wp-list-table tbody tr.coreactivity-hidden-row td").attr("colspan",e)}),o(t).on("click","thead th.column-meta, tfoot th.column-meta",function(e){e.preventDefault();var e=o(this).find("i"),t=o("thead th.column-meta i, tfoot th.column-meta i"),a=o(this).closest("table"),i=a.find("tbody tr.coreactivity-hidden-row"),a=a.find("tbody td.column-meta button i");e.hasClass("d4p-ui-chevron-square-up")?(i.addClass("__hidden"),a.removeClass("d4p-ui-chevron-square-up d4p-ui-chevron-square-down").addClass("d4p-ui-chevron-square-down"),t.removeClass("d4p-ui-chevron-square-up").addClass("d4p-ui-chevron-square-down")):(i.removeClass("__hidden"),a.removeClass("d4p-ui-chevron-square-up d4p-ui-chevron-square-down").addClass("d4p-ui-chevron-square-up"),t.removeClass("d4p-ui-chevron-square-down").addClass("d4p-ui-chevron-square-up"))}),o(t).on("click","td.column-meta button",function(e){e.preventDefault();var e=o(this).find("i"),t=o(this).parent().parent().next();e.hasClass("d4p-ui-chevron-square-up")?(t.addClass("__hidden"),e.removeClass("d4p-ui-chevron-square-up").addClass("d4p-ui-chevron-square-down")):(t.removeClass("__hidden"),e.removeClass("d4p-ui-chevron-square-down").addClass("d4p-ui-chevron-square-up"))})},live:{init:function(){setTimeout(wp.coreactivity.admin.live.ajax,15e3)},ajax:function(){o(".coreactivity-live-row").addClass("coreactivity-old-live-row").removeClass("coreactivity-standout").removeClass("coreactivity-live-row"),o.ajax({url:ajaxurl+"?action=coreactivity_live_logs",type:"post",dataType:"html",data:{args:JSON.stringify(coreactivity_live)},success:function(e){var t,a;0<e.length&&(t=e.indexOf("."),a=e.substring(0,t),e=e.substring(t+1),coreactivity_live.id=parseInt(a),o(".coreactivity-grid-logs #the-list").prepend(e),o(".coreactivity-live-row").addClass("coreactivity-standout")),setTimeout(wp.coreactivity.admin.live.ajax,15e3)}})}}},o(t).ready(function(){e.wp.coreactivity.admin.init(),0<o(".coreactivity-grid-logs").length&&(wp.coreactivity.admin.columns(),"Y"===coreactivity_data.live_updates)&&wp.coreactivity.admin.live.init()})}(jQuery,window,document);